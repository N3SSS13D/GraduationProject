C251 COMPILER V5.60.0,  main                                                               16/02/26  01:45:12  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Program Files (x86)\Keil_v5\C251\BIN\C251.EXE Sources\main.c XSMALL BROWSE INCDIR(.\Sources\inc;
                    -.\Sources\app;.\Sources\hal;.\Sources\fml;.\Sources\utils;.\Sources;.\Sources\lib) DEBUG PRINT(.\Listings\main.lst) OBJE
                    -CT(.\Objects\main.obj) 

stmt  level    source

    1          //<<AICUBE_USER_HEADER_REMARK_BEGIN>>
    2          ////////////////////////////////////////
    3          // 锟节达拷锟斤拷锟斤拷锟矫伙拷锟侥硷拷头�?�锟斤拷锟斤拷息  
    4          // 锟侥硷拷锟斤拷锟斤拷: main.c
    5          // 锟侥硷拷锟斤拷锟斤拷: 
    6          // 锟侥硷拷锟芥??: V1.0
    7          // 锟睫改硷拷录:
    8          //   1. (2025-12-13) 锟斤拷锟斤拷锟侥硷拷
    9          ////////////////////////////////////////
   10          //<<AICUBE_USER_HEADER_REMARK_END>>
   11          
   12          
   13          #include "config.h"                     //默?已包含stdio.h、intrins.h等头文件
   14          
   15          
   16          //<<AICUBE_USER_INCLUDE_BEGIN>>
   17          #include "test/ws2812_test.h"
   18          //<<AICUBE_USER_INCLUDE_END>>
   19          
   20          
   21          //<<AICUBE_USER_GLOBAL_DEFINE_BEGIN>>
   22          // WS2812 锟斤拷锟饺拷直锟斤拷锟斤拷锟斤拷锟斤拷???app/ws2812_display.c锟斤拷s
             -tatic锟斤??
   23          // 锟缴讹拷时锟斤拷锟叫??猴拷应锟??接口斤拷锟叫匡拷锟斤??
   24          
   25          //<<AICUBE_USER_GLOBAL_DEFINE_END>>
   26          
   27          
   28          
   29          ////////////////////////////////////////
   30          // 项目主函?
   31          // 入口参数: ?
   32          // 函数返回: ?
   33          ////////////////////////////////////////
   34          void main(void)
   35          {
   36   1          //<<AICUBE_USER_MAIN_INITIAL_BEGIN>>
   37   1          // 锟节达拷锟斤拷锟斤拷锟矫伙拷锟斤拷锟斤拷锟斤拷锟斤拷始锟斤拷锟斤
             -锟斤拷  
   38   1          //<<AICUBE_USER_MAIN_INITIAL_END>>
   39   1      
   40   1          SYS_Init();
   41   1      
   42   1          //<<AICUBE_USER_MAIN_CODE_BEGIN>>
   43   1          ws2812_test_init();
   44   1          //<<AICUBE_USER_MAIN_CODE_END>>
   45   1      
   46   1          while (1)
   47   1          {
   48   2              //<<AICUBE_USER_MAIN_LOOP_BEGIN>>
   49   2              ws2812_test_step();
   50   2      //              hc595_write16(0xfffe);
   51   2      //              ws2812_send_grb(255, 0, 0);
   52   2              delay_ms(1);
   53   2              //<<AICUBE_USER_MAIN_LOOP_END>>
   54   2          }
   55   1      }
C251 COMPILER V5.60.0,  main                                                               16/02/26  01:45:12  PAGE 2   

   56          
   57          ////////////////////////////////////////
   58          // 系统初?化函数
   59          // 入口参数: ?
   60          // 函数返回: ?
   61          ////////////////////////////////////////
   62          void SYS_Init(void)
   63          {
   64   1          EnableAccessXFR();                  //使能访问扩展XFR
   65   1          AccessCodeFastest();                //设置最?速度访问程序代码
   66   1          AccessIXramFastest();               //设置最?速度访问内部XDATA
   67   1          IAP_SetTimeBase();                  //设置IAP等待参数,产生1us时基
   68   1      
   69   1          //<<AICUBE_USER_PREINITIAL_CODE_BEGIN>>
   70   1          // 锟节达拷锟斤拷锟斤拷锟矫伙拷预锟斤拷始锟斤拷锟斤拷锟斤拷  
   71   1          //<<AICUBE_USER_PREINITIAL_CODE_END>>
   72   1      
   73   1          P0M0 = 0x00; P0M1 = 0x00;           //初?化P0口为准双向口模式
   74   1          P1M0 = 0x00; P1M1 = 0x00;           //初?化P1口为准双向口模式
   75   1          P2M0 = 0x00; P2M1 = 0x00;           //初?化P2口为准双向口模式
   76   1          P3M0 = 0x00; P3M1 = 0x00;           //初?化P3口为准双向口模式
   77   1          P4M0 = 0x00; P4M1 = 0x00;           //初?化P4口为准双向口模式
   78   1          P5M0 = 0x00; P5M1 = 0x00;           //初?化P5口为准双向口模式
   79   1          P6M0 = 0x00; P6M1 = 0x00;           //初?化P6口为准双向口模式
   80   1          P7M0 = 0x00; P7M1 = 0x00;           //初?化P7口为准双向口模式
   81   1      
   82   1          PORT0_Init();                       //P0口初始化
   83   1          delay_ms(1);
   84   1          USBLIB_Init();                      //USB库初始化
   85   1          delay_ms(1);
   86   1      
   87   1          //<<AICUBE_USER_INITIAL_CODE_BEGIN>>
   88   1          // 锟节达拷锟斤拷锟斤拷锟矫伙拷锟斤拷�?�锟斤拷锟斤拷锟斤拷  
   89   1          //<<AICUBE_USER_INITIAL_CODE_END>>
   90   1      
   91   1          EnableGlobalInt();                  //使能全局??
   92   1      }
   93          
   94          ////////////////////////////////////////
   95          // ?秒延时函?
   96          // 入口参数: us (设置延时的微秒?)
   97          // 函数返回: ?
   98          ////////////////////////////////////////
   99          void delay_us(uint16_t us)
  100          {
  101   1          do
  102   1          {
  103   2              NOP(34);                        //(MAIN_Fosc + 500000) / 1000000 - 6
  104   2          } while (--us);
  105   1      }
  106          
  107          
  108          ////////////////////////////////////////
  109          // ?秒延时函?
  110          // 入口参数: ms (设置延时的??秒?)
  111          // 函数返回: ?
  112          ////////////////////////////////////////
  113          void delay_ms(uint16_t ms)
  114          {
  115   1          uint16_t i;
  116   1      
  117   1          do
  118   1          {
  119   2              i = MAIN_Fosc / 6000;
  120   2              while (--i);
  121   2          } while (--ms);
C251 COMPILER V5.60.0,  main                                                               16/02/26  01:45:12  PAGE 3   

  122   1      }
  123          
  124          
  125          //<<AICUBE_USER_FUNCTION_IMPLEMENT_BEGIN>>
  126          // 锟斤拷锟斤拷应锟斤拷锟�??硷拷锟斤拷锟斤拷锟斤拷锟斤拷锟斤拷应模锟介
             -
  127          // - timer.c: TIMER0_Init() 锟斤?? 锟叫??达拷锟斤?? TIMER0_ISR()
  128          // - app/ws2812_display.c: 锟斤拷示锟斤拷色状态锟酵革拷锟铰猴拷锟斤拷
  129          //<<AICUBE_USER_FUNCTION_IMPLEMENT_END>>
  130          
  131          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       185     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =         2     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
